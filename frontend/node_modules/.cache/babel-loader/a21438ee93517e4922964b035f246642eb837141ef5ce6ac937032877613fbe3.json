{"ast":null,"code":"var _jsxFileName = \"E:\\\\Travel-Booking\\\\travel-booking-app\\\\frontend\\\\src\\\\context\\\\BookingContext.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { HOTELS, FLIGHTS, BUSES, TRAINS, TOURS } from '../data/mockData';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BookingContext = /*#__PURE__*/createContext();\nexport function useBooking() {\n  _s();\n  return useContext(BookingContext);\n}\n_s(useBooking, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport function BookingProvider({\n  children\n}) {\n  _s2();\n  const [searchResults, setSearchResults] = useState(HOTELS);\n  const [bookings, setBookings] = useState(() => {\n    try {\n      const raw = localStorage.getItem('bookings');\n      return raw ? JSON.parse(raw) : [];\n    } catch (e) {\n      return [];\n    }\n  });\n\n  // persist bookings to localStorage\n  useEffect(() => {\n    try {\n      localStorage.setItem('bookings', JSON.stringify(bookings));\n    } catch (e) {\n      // ignore write errors\n    }\n  }, [bookings]);\n  function search({\n    destination\n  }) {\n    const q = (destination || '').toLowerCase();\n    const results = HOTELS.filter(h => h.name.toLowerCase().includes(q) || h.location.toLowerCase().includes(q));\n    setSearchResults(results);\n  }\n  function getItemById(id) {\n    return HOTELS.find(i => i.id === id) || FLIGHTS.find(i => i.id === id) || BUSES.find(i => i.id === id) || TRAINS.find(i => i.id === id) || TOURS.find(i => i.id === id) || null;\n  }\n  function createBooking(payload) {\n    // payload should include: itemId, itemType (optional), name, email, passengers, date, extra fields\n    const id = `b${Date.now()}`;\n    const item = getItemById(payload.itemId);\n    const passengers = Number(payload.passengers || payload.guests || 1);\n    const unitPrice = item && item.price ? Number(item.price) : Number(payload.price || 0);\n    const total = unitPrice * passengers;\n    const booking = {\n      id,\n      item,\n      itemType: payload.itemType || (item ? HOTELS.includes(item) ? 'hotel' : FLIGHTS.includes(item) ? 'flight' : BUSES.includes(item) ? 'bus' : TRAINS.includes(item) ? 'train' : TOURS.includes(item) ? 'tour' : 'unknown' : 'unknown'),\n      name: payload.name,\n      email: payload.email,\n      passengers,\n      date: payload.date || payload.checkin || null,\n      extras: payload.extras || {},\n      total\n    };\n    setBookings(prev => [booking, ...prev]);\n    return booking;\n  }\n  function removeBooking(id) {\n    setBookings(prev => prev.filter(b => b.id !== id));\n  }\n  function getBookingById(id) {\n    return bookings.find(b => b.id === id);\n  }\n  return /*#__PURE__*/_jsxDEV(BookingContext.Provider, {\n    value: {\n      searchResults,\n      search,\n      createBooking,\n      getItemById,\n      getBookingById,\n      bookings,\n      removeBooking\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n}\n_s2(BookingProvider, \"e+R6n+RbRCUCabr8Yu8dtLzhQuQ=\");\n_c = BookingProvider;\nvar _c;\n$RefreshReg$(_c, \"BookingProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","HOTELS","FLIGHTS","BUSES","TRAINS","TOURS","jsxDEV","_jsxDEV","BookingContext","useBooking","_s","BookingProvider","children","_s2","searchResults","setSearchResults","bookings","setBookings","raw","localStorage","getItem","JSON","parse","e","setItem","stringify","search","destination","q","toLowerCase","results","filter","h","name","includes","location","getItemById","id","find","i","createBooking","payload","Date","now","item","itemId","passengers","Number","guests","unitPrice","price","total","booking","itemType","email","date","checkin","extras","prev","removeBooking","b","getBookingById","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["E:/Travel-Booking/travel-booking-app/frontend/src/context/BookingContext.jsx"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\r\nimport { HOTELS, FLIGHTS, BUSES, TRAINS, TOURS } from '../data/mockData';\r\n\r\nconst BookingContext = createContext();\r\n\r\nexport function useBooking() {\r\n  return useContext(BookingContext);\r\n}\r\n\r\nexport function BookingProvider({ children }) {\r\n  const [searchResults, setSearchResults] = useState(HOTELS);\r\n  const [bookings, setBookings] = useState(() => {\r\n    try {\r\n      const raw = localStorage.getItem('bookings');\r\n      return raw ? JSON.parse(raw) : [];\r\n    } catch (e) {\r\n      return [];\r\n    }\r\n  });\r\n\r\n  // persist bookings to localStorage\r\n  useEffect(() => {\r\n    try {\r\n      localStorage.setItem('bookings', JSON.stringify(bookings));\r\n    } catch (e) {\r\n      // ignore write errors\r\n    }\r\n  }, [bookings]);\r\n\r\n  function search({ destination }) {\r\n    const q = (destination || '').toLowerCase();\r\n    const results = HOTELS.filter(h => h.name.toLowerCase().includes(q) || h.location.toLowerCase().includes(q));\r\n    setSearchResults(results);\r\n  }\r\n\r\n  function getItemById(id) {\r\n    return HOTELS.find(i => i.id === id) || FLIGHTS.find(i => i.id === id) || BUSES.find(i => i.id === id) || TRAINS.find(i => i.id === id) || TOURS.find(i => i.id === id) || null;\r\n  }\r\n\r\n  function createBooking(payload) {\r\n    // payload should include: itemId, itemType (optional), name, email, passengers, date, extra fields\r\n    const id = `b${Date.now()}`;\r\n    const item = getItemById(payload.itemId);\r\n    const passengers = Number(payload.passengers || payload.guests || 1);\r\n    const unitPrice = item && item.price ? Number(item.price) : Number(payload.price || 0);\r\n    const total = unitPrice * passengers;\r\n\r\n    const booking = {\r\n      id,\r\n      item,\r\n      itemType: payload.itemType || (item ? (HOTELS.includes(item) ? 'hotel' : FLIGHTS.includes(item) ? 'flight' : BUSES.includes(item) ? 'bus' : TRAINS.includes(item) ? 'train' : TOURS.includes(item) ? 'tour' : 'unknown') : 'unknown'),\r\n      name: payload.name,\r\n      email: payload.email,\r\n      passengers,\r\n      date: payload.date || payload.checkin || null,\r\n      extras: payload.extras || {},\r\n      total\r\n    };\r\n\r\n    setBookings(prev => [booking, ...prev]);\r\n    return booking;\r\n  }\r\n\r\n  function removeBooking(id) {\r\n    setBookings(prev => prev.filter(b => b.id !== id));\r\n  }\r\n\r\n  function getBookingById(id) {\r\n    return bookings.find(b => b.id === id);\r\n  }\r\n\r\n  return (\r\n    <BookingContext.Provider value={{ searchResults, search, createBooking, getItemById, getBookingById, bookings, removeBooking }}>\r\n      {children}\r\n    </BookingContext.Provider>\r\n  );\r\n}\r\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC7E,SAASC,MAAM,EAAEC,OAAO,EAAEC,KAAK,EAAEC,MAAM,EAAEC,KAAK,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEzE,MAAMC,cAAc,gBAAGX,aAAa,CAAC,CAAC;AAEtC,OAAO,SAASY,UAAUA,CAAA,EAAG;EAAAC,EAAA;EAC3B,OAAOZ,UAAU,CAACU,cAAc,CAAC;AACnC;AAACE,EAAA,CAFeD,UAAU;AAI1B,OAAO,SAASE,eAAeA,CAAC;EAAEC;AAAS,CAAC,EAAE;EAAAC,GAAA;EAC5C,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGhB,QAAQ,CAACE,MAAM,CAAC;EAC1D,MAAM,CAACe,QAAQ,EAAEC,WAAW,CAAC,GAAGlB,QAAQ,CAAC,MAAM;IAC7C,IAAI;MACF,MAAMmB,GAAG,GAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;MAC5C,OAAOF,GAAG,GAAGG,IAAI,CAACC,KAAK,CAACJ,GAAG,CAAC,GAAG,EAAE;IACnC,CAAC,CAAC,OAAOK,CAAC,EAAE;MACV,OAAO,EAAE;IACX;EACF,CAAC,CAAC;;EAEF;EACAvB,SAAS,CAAC,MAAM;IACd,IAAI;MACFmB,YAAY,CAACK,OAAO,CAAC,UAAU,EAAEH,IAAI,CAACI,SAAS,CAACT,QAAQ,CAAC,CAAC;IAC5D,CAAC,CAAC,OAAOO,CAAC,EAAE;MACV;IAAA;EAEJ,CAAC,EAAE,CAACP,QAAQ,CAAC,CAAC;EAEd,SAASU,MAAMA,CAAC;IAAEC;EAAY,CAAC,EAAE;IAC/B,MAAMC,CAAC,GAAG,CAACD,WAAW,IAAI,EAAE,EAAEE,WAAW,CAAC,CAAC;IAC3C,MAAMC,OAAO,GAAG7B,MAAM,CAAC8B,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,IAAI,CAACJ,WAAW,CAAC,CAAC,CAACK,QAAQ,CAACN,CAAC,CAAC,IAAII,CAAC,CAACG,QAAQ,CAACN,WAAW,CAAC,CAAC,CAACK,QAAQ,CAACN,CAAC,CAAC,CAAC;IAC5Gb,gBAAgB,CAACe,OAAO,CAAC;EAC3B;EAEA,SAASM,WAAWA,CAACC,EAAE,EAAE;IACvB,OAAOpC,MAAM,CAACqC,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACF,EAAE,KAAKA,EAAE,CAAC,IAAInC,OAAO,CAACoC,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACF,EAAE,KAAKA,EAAE,CAAC,IAAIlC,KAAK,CAACmC,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACF,EAAE,KAAKA,EAAE,CAAC,IAAIjC,MAAM,CAACkC,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACF,EAAE,KAAKA,EAAE,CAAC,IAAIhC,KAAK,CAACiC,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACF,EAAE,KAAKA,EAAE,CAAC,IAAI,IAAI;EACjL;EAEA,SAASG,aAAaA,CAACC,OAAO,EAAE;IAC9B;IACA,MAAMJ,EAAE,GAAG,IAAIK,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE;IAC3B,MAAMC,IAAI,GAAGR,WAAW,CAACK,OAAO,CAACI,MAAM,CAAC;IACxC,MAAMC,UAAU,GAAGC,MAAM,CAACN,OAAO,CAACK,UAAU,IAAIL,OAAO,CAACO,MAAM,IAAI,CAAC,CAAC;IACpE,MAAMC,SAAS,GAAGL,IAAI,IAAIA,IAAI,CAACM,KAAK,GAAGH,MAAM,CAACH,IAAI,CAACM,KAAK,CAAC,GAAGH,MAAM,CAACN,OAAO,CAACS,KAAK,IAAI,CAAC,CAAC;IACtF,MAAMC,KAAK,GAAGF,SAAS,GAAGH,UAAU;IAEpC,MAAMM,OAAO,GAAG;MACdf,EAAE;MACFO,IAAI;MACJS,QAAQ,EAAEZ,OAAO,CAACY,QAAQ,KAAKT,IAAI,GAAI3C,MAAM,CAACiC,QAAQ,CAACU,IAAI,CAAC,GAAG,OAAO,GAAG1C,OAAO,CAACgC,QAAQ,CAACU,IAAI,CAAC,GAAG,QAAQ,GAAGzC,KAAK,CAAC+B,QAAQ,CAACU,IAAI,CAAC,GAAG,KAAK,GAAGxC,MAAM,CAAC8B,QAAQ,CAACU,IAAI,CAAC,GAAG,OAAO,GAAGvC,KAAK,CAAC6B,QAAQ,CAACU,IAAI,CAAC,GAAG,MAAM,GAAG,SAAS,GAAI,SAAS,CAAC;MACrOX,IAAI,EAAEQ,OAAO,CAACR,IAAI;MAClBqB,KAAK,EAAEb,OAAO,CAACa,KAAK;MACpBR,UAAU;MACVS,IAAI,EAAEd,OAAO,CAACc,IAAI,IAAId,OAAO,CAACe,OAAO,IAAI,IAAI;MAC7CC,MAAM,EAAEhB,OAAO,CAACgB,MAAM,IAAI,CAAC,CAAC;MAC5BN;IACF,CAAC;IAEDlC,WAAW,CAACyC,IAAI,IAAI,CAACN,OAAO,EAAE,GAAGM,IAAI,CAAC,CAAC;IACvC,OAAON,OAAO;EAChB;EAEA,SAASO,aAAaA,CAACtB,EAAE,EAAE;IACzBpB,WAAW,CAACyC,IAAI,IAAIA,IAAI,CAAC3B,MAAM,CAAC6B,CAAC,IAAIA,CAAC,CAACvB,EAAE,KAAKA,EAAE,CAAC,CAAC;EACpD;EAEA,SAASwB,cAAcA,CAACxB,EAAE,EAAE;IAC1B,OAAOrB,QAAQ,CAACsB,IAAI,CAACsB,CAAC,IAAIA,CAAC,CAACvB,EAAE,KAAKA,EAAE,CAAC;EACxC;EAEA,oBACE9B,OAAA,CAACC,cAAc,CAACsD,QAAQ;IAACC,KAAK,EAAE;MAAEjD,aAAa;MAAEY,MAAM;MAAEc,aAAa;MAAEJ,WAAW;MAAEyB,cAAc;MAAE7C,QAAQ;MAAE2C;IAAc,CAAE;IAAA/C,QAAA,EAC5HA;EAAQ;IAAAoD,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACc,CAAC;AAE9B;AAACtD,GAAA,CAnEeF,eAAe;AAAAyD,EAAA,GAAfzD,eAAe;AAAA,IAAAyD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}