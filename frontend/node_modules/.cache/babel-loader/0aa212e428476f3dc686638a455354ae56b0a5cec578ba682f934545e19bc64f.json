{"ast":null,"code":"var _jsxFileName = \"E:\\\\Travel-Booking\\\\travel-booking-app\\\\frontend\\\\src\\\\context\\\\BookingContext.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { HOTELS } from '../data/mockData';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BookingContext = /*#__PURE__*/createContext();\nexport function useBooking() {\n  _s();\n  return useContext(BookingContext);\n}\n_s(useBooking, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport function BookingProvider({\n  children\n}) {\n  _s2();\n  const [searchResults, setSearchResults] = useState(HOTELS);\n  const [bookings, setBookings] = useState(() => {\n    try {\n      const raw = localStorage.getItem('bookings');\n      return raw ? JSON.parse(raw) : [];\n    } catch (e) {\n      return [];\n    }\n  });\n\n  // persist bookings to localStorage\n  useEffect(() => {\n    try {\n      localStorage.setItem('bookings', JSON.stringify(bookings));\n    } catch (e) {\n      // ignore write errors\n    }\n  }, [bookings]);\n  function search({\n    destination\n  }) {\n    const q = (destination || '').toLowerCase();\n    const results = HOTELS.filter(h => h.name.toLowerCase().includes(q) || h.location.toLowerCase().includes(q));\n    setSearchResults(results);\n  }\n  function getHotelById(id) {\n    return HOTELS.find(h => h.id === id);\n  }\n  function createBooking({\n    hotelId,\n    name,\n    email,\n    guests,\n    checkin,\n    checkout\n  }) {\n    const id = `b${Date.now()}`;\n    const hotel = getHotelById(hotelId);\n    const total = hotel ? hotel.price * (Number(guests) || 1) : 0;\n    const booking = {\n      id,\n      hotel,\n      name,\n      email,\n      guests: Number(guests),\n      checkin,\n      checkout,\n      total\n    };\n    setBookings(prev => [booking, ...prev]);\n    return booking;\n  }\n  function removeBooking(id) {\n    setBookings(prev => prev.filter(b => b.id !== id));\n  }\n  function getBookingById(id) {\n    return bookings.find(b => b.id === id);\n  }\n  return /*#__PURE__*/_jsxDEV(BookingContext.Provider, {\n    value: {\n      searchResults,\n      search,\n      createBooking,\n      getHotelById,\n      getBookingById,\n      bookings,\n      removeBooking\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n_s2(BookingProvider, \"e+R6n+RbRCUCabr8Yu8dtLzhQuQ=\");\n_c = BookingProvider;\nvar _c;\n$RefreshReg$(_c, \"BookingProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","HOTELS","jsxDEV","_jsxDEV","BookingContext","useBooking","_s","BookingProvider","children","_s2","searchResults","setSearchResults","bookings","setBookings","raw","localStorage","getItem","JSON","parse","e","setItem","stringify","search","destination","q","toLowerCase","results","filter","h","name","includes","location","getHotelById","id","find","createBooking","hotelId","email","guests","checkin","checkout","Date","now","hotel","total","price","Number","booking","prev","removeBooking","b","getBookingById","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["E:/Travel-Booking/travel-booking-app/frontend/src/context/BookingContext.jsx"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\r\nimport { HOTELS } from '../data/mockData';\r\n\r\nconst BookingContext = createContext();\r\n\r\nexport function useBooking() {\r\n  return useContext(BookingContext);\r\n}\r\n\r\nexport function BookingProvider({ children }) {\r\n  const [searchResults, setSearchResults] = useState(HOTELS);\r\n  const [bookings, setBookings] = useState(() => {\r\n    try {\r\n      const raw = localStorage.getItem('bookings');\r\n      return raw ? JSON.parse(raw) : [];\r\n    } catch (e) {\r\n      return [];\r\n    }\r\n  });\r\n\r\n  // persist bookings to localStorage\r\n  useEffect(() => {\r\n    try {\r\n      localStorage.setItem('bookings', JSON.stringify(bookings));\r\n    } catch (e) {\r\n      // ignore write errors\r\n    }\r\n  }, [bookings]);\r\n\r\n  function search({ destination }) {\r\n    const q = (destination || '').toLowerCase();\r\n    const results = HOTELS.filter(h => h.name.toLowerCase().includes(q) || h.location.toLowerCase().includes(q));\r\n    setSearchResults(results);\r\n  }\r\n\r\n  function getHotelById(id) {\r\n    return HOTELS.find(h => h.id === id);\r\n  }\r\n\r\n  function createBooking({ hotelId, name, email, guests, checkin, checkout }) {\r\n    const id = `b${Date.now()}`;\r\n    const hotel = getHotelById(hotelId);\r\n    const total = hotel ? hotel.price * (Number(guests) || 1) : 0;\r\n    const booking = { id, hotel, name, email, guests: Number(guests), checkin, checkout, total };\r\n    setBookings(prev => [booking, ...prev]);\r\n    return booking;\r\n  }\r\n\r\n  function removeBooking(id) {\r\n    setBookings(prev => prev.filter(b => b.id !== id));\r\n  }\r\n\r\n  function getBookingById(id) {\r\n    return bookings.find(b => b.id === id);\r\n  }\r\n\r\n  return (\r\n    <BookingContext.Provider value={{ searchResults, search, createBooking, getHotelById, getBookingById, bookings, removeBooking }}>\r\n      {children}\r\n    </BookingContext.Provider>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}